<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <style>
        #score {
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <ul id="options">
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
    </ul>
    <div id="score"></div>

    <script>
        const options = document.querySelector('#options');
        const resultDisplay = document.createElement('p');
        const scoreDisplay = document.getElementById('score');
        let playerScore = 0;
        let computerScore = 0;
        let ties = 0;
        let roundsPlayed = 0;
    
        document.body.appendChild(resultDisplay);
    
        options.addEventListener('click', (event) => {
            const target = event.target;
            if (target.tagName === 'BUTTON' && roundsPlayed < 5) {
                const playerSelection = target.id;
                const computerSelection = getComputerChoice(["rock", "paper", "scissors"]);
                const result = playRound(playerSelection, computerSelection);
                resultDisplay.textContent = result;
                updateScores(result);
                roundsPlayed++;}
            if (roundsPlayed === 5) {
                    endGame();
                }
        });
    
        function getComputerChoice(array) {
            const randomIndex = Math.floor(Math.random() * array.length);
            return array[randomIndex];
        }
    
        function playRound(playerSelection, computerSelection) {
            const outcomes = {
                rock: { beats: "scissors" },
                paper: { beats: "rock" },
                scissors: { beats: "paper" }
            };
    
            if (!outcomes[playerSelection]) {
                return "Invalid selection. Please choose rock, paper, or scissors.";
            }
    
            if (playerSelection === computerSelection) {
                ties++;
                return "It's a tie!";
            } else if (outcomes[playerSelection].beats === computerSelection) {
                playerScore++;
                return `You Win! ${playerSelection} beats ${computerSelection}.`;
            } else {
                computerScore++;
                return `You Lose! ${computerSelection} beats ${playerSelection}.`;
            }
        }
    
        function updateScores(result) {
            scoreDisplay.textContent = `Player: ${playerScore} | Computer: ${computerScore} | Ties: ${ties}`;
        }
    
        function endGame() {
            if (playerScore > computerScore) {
                resultDisplay.textContent = "Congratulations! You win the game!";
            } else if (playerScore < computerScore) {
                resultDisplay.textContent = "Sorry, you lose the game.";
            } else {
                resultDisplay.textContent = "It's a tie game!";
            }
        }
    </script>
    
</body>

</html>